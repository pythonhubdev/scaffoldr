"""Basic tests for the FastAPI application."""

import pytest
from httpx import AsyncClient


class TestApp:
	"""Test cases for the main FastAPI application."""

	@pytest.mark.asyncio
	async def test_root_endpoint(self, client: AsyncClient) -> None:
		"""Test the root endpoint returns a successful response."""
		response = await client.get("/")
		assert response.status_code == 404  # No root endpoint defined yet

	@pytest.mark.asyncio
	async def test_openapi_docs_available(self, client: AsyncClient) -> None:
		"""Test that OpenAPI documentation is available."""
		response = await client.get("/docs")
		assert response.status_code == 200

	@pytest.mark.asyncio
	async def test_openapi_json_available(self, client: AsyncClient) -> None:
		"""Test that OpenAPI JSON specification is available."""
		response = await client.get("/openapi.json")
		assert response.status_code == 200
		data = response.json()
		assert "info" in data
		assert "paths" in data

	@pytest.mark.asyncio
	async def test_health_check(self, client: AsyncClient) -> None:
		"""Test health check endpoint if it exists."""
		response = await client.get("/health")
		# This might return 404 if no health endpoint is defined
		assert response.status_code in [200, 404]
